<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Zp lib</title>
		<script type="text/javascript"  src="src/core/zp.js"></script>
        <script type="text/javascript"  src="src/plugins/ajax.js"></script>
        <script type="text/javascript"  src="src/plugins/dom.js"></script>
        <script type="text/javascript"  src="src/plugins/class.js"></script>
    <body>
        <form id="test-form">
            <input type="hidden" name="test" value="123">
        </form>
		<script>
            var test;
            var onReady = false;
            function readyFunc () {
                if(onReady){
                    return;
                }
                onReady =  true;
                zp.define('zp.classes.animal',{
                    init : function (type,name) {
                        this.type = type;
                        this.name = name;
                    },
                    getType : function  (){
                        return this.type;
                    },
                    getName : function () {
                        return this.name;
                    }
                });
                /*var animal = zp.create({
                    init : function (type,name) {
                        this.type = type;
                        this.name = name;
                    },
                    getType : function  (){
                        return this.type;
                    },
                    getName : function () {
                        return this.name;
                    }
                });*/

                var dog = zp.create({
                    extend : zp.classes.animal,
                    init : function (type,name) {
                        console.log('dog Init');
                        this.callParent('init',type,name);
                    },
                    getType : function () {
                        return this.callParent('getType');
                    },
                    getName : function () {
                        return this.callParent('getName');
                    },
                    get info () {
                        return this.name + ' ' + this.name;
                    }
                });

                test = new dog('dog', 'dog name');
                console.log(test instanceof zp.classes.animal);
               //var test2 =  new animal();
                //console.log(test2.getType());

            }
            document.addEventListener('DOMContentLoaded', readyFunc, false);
            window.addEventListener('load', readyFunc, false);
		</script>
	</body>
</html>